<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script src="../../dist/sizzle.js"></script>
	<script>
		var Sizzle1 = Sizzle;
	</script>
	<script src="../../dist/sizzle.js"></script>
	<script>
		var Sizzle2 = Sizzle;
	</script>
</head>
<body>
	<script>
		// Gather results here, then asynchronously report to the parent window
		var overwritten = Sizzle !== Sizzle1,
			selector = "html > *",
			expected = [ document.documentElement.firstChild, document.body ],
			sizzle1Selection = Sizzle1( selector ),
			sizzle2Selection = Sizzle2( selector ),
			returned = Sizzle.noConflict(),
			returnedCorrect = returned === Sizzle2 || { actual: returned, expected: Sizzle2 },
			restored = Sizzle === Sizzle1 || { actual: Sizzle, expected: Sizzle1 },
			sizzle1Selection2 = Sizzle1( selector ),
			sizzle2Selection2 = Sizzle2( selector );

		window.parent.iframeCallback( [
			{ assertion: "strictEqual", args: [ overwritten, true,
				"first Sizzle overwritten" ] },
			{ assertion: "deepEqual", args: [ sizzle1Selection, expected,
				"selection by first Sizzle" ] },
			{ assertion: "deepEqual", args: [ sizzle2Selection, expected,
				"selection by second Sizzle" ] },

			{ assertion: "strictEqual", args: [ restored, true,
				"first Sizzle restored by noConflict" ] },
			{ assertion: "strictEqual", args: [ returnedCorrect, true,
				"second Sizzle returned by noConflict" ] },
			{ assertion: "deepEqual", args: [ sizzle1Selection2, expected,
				"another selection by first Sizzle" ] },
			{ assertion: "deepEqual", args: [ sizzle2Selection2, expected,
				"another selection by second Sizzle" ] },
		] );
	</script>
</body>
</html>
